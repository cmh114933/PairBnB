c
reservation_id
host
customer
c
n
delivery_handler.deliver_mail(self) { do_delivery }
n
finish name, payload
n
@_mail_was_called
_mail_was_called
@_message
n
c
n
self
inform_observers
n
inform_observers
n
delivery_handler.deliver_mail(self) { do_delivery }
self
n
do_delivery
n
delivery_handler
n
finish name
n
@_mail_was_called
@message
n
mail(to: @host.email, subject: 'Someone booked a reservation')
@host.email
c
n
c
n
c
Reservation.where(user_id: nil).destroy_all
Reservation.where(user_id: nil)
r.user.email
c
r.user.email
c
r.user.email
c
r.user.email
r.user
r.user_id
r
User.find(r.user_id).email
c
User.find(r.user_id)
Usesr.find(r.user_id)
User.first
r.user_id
c
reservation_path
r.id
User.find(r.user_id).email
User.find(r.user_id)
r.end_date
r.start_date
User.id
c
@listing.available_dates
@listing
 c
c
Listing.first.reservations_count
reservations_count
@featured_listings
c
Listing.first.reservations_count
Listing.first
c
@featured_listings
c
@featured_listings.first
@featured_listings.last
c
@featured_listings
c
n
@listings
c
@listing
Listing.order(:locations).page
params[:page]
c
@listing.available_dates
exit
@listing.available_dates + Array(d)
Array(d)
d
@listing.available_dates
n
@listing.available_dates
n
@listing.available_dates
c
@listing
n
c
n
c
n
exit
c
n
c
n
c
exit
c
@listing.available_dates
@listing
n
@listing
n
@listing
c
(@listing.available_dates.first .. @listing.available_dates.last).include?(Date.strptime('03-07-2016', '%d-%m-%Y') .. Date.strptime('14-07-2016', '%d-%m-%Y') )
(@listing.available_dates.first .. @listing.available_dates.last).include?(Date.strptime('03-07-2016', '%d-%m-%Y') .. Date.strptime('15-07-2016', '%d-%m-%Y') )
(@listing.available_dates.first .. @listing.available_dates.last).include?(Date.strptime('03-07-2016', '%d-%m-%Y') .. Date.strptime('04-07-2016', '%d-%m-%Y') )
@listing.available_dates.first .. @listing.available_dates.last
@listing.available_dates.include? (Date.strptime('03-07-2016', '%d-%m-%Y') .. Date.strptime('04-07-2016', '%d-%m-%Y') )
@listing.available_dates.include? (Date.strptime('03-07-2016', '%d-%m-%Y') ..Date.strptime('03-07-2016', '%d-%m-%Y') 
@listing.available_dates.include? Date.strptime('03-07-2016', '%d-%m-%Y') 
Date.strptime('03-07-2016', '%d-%m-%Y') 
@listing.available_dates
@listing
n
@listing
n
c
n
@listing
c
@listing
n
exit
 (Date.parse(params[:listing][:available_dates][:start_date])..Date.parse(params[:listing][:available_dates][:start_date]))
n
c
n
@listing
n
c
(Date.parse(params[:listing][:available_dates][:start_date])..Date.parse(params[:listing][:available_dates][:end_date])).each{|x| p x}
(Date.parse(params[:listing][:available_dates][:start_date])..Date.parse(params[:listing][:available_dates][:end_date]))
Date.parse(params[:listing][:available_dates][:start_date])
Date(params[:listing][:available_dates][:start_date])
@listing
@reservation
params[:listing][:available_dates][:start_date]
(params[:listing][:available_dates][:start_date]..params[:listing][:available_dates][:end_date])
arr
(params[:listing][:available_dates][:start_date]..params[:listing][:available_dates][:end_date]).each {|x| arr << x}
(params[:listing][:available_dates][:start_date]..params[:listing][:available_dates][:end_date])
arr = []
arr <<  (params[:listing][:available_dates][:start_date]..params[:listing][:available_dates][:end_date])
arr
arr.each {|x| p x }
arr
arr <<  (params[:listing][:available_dates][:start_date]..params[:listing][:available_dates][:end_date])
arr = []
(params[:listing][:available_dates][:start_date]..params[:listing][:available_dates][:end_date])
(params[:listing][:available_dates][:start_date]..params[:listing][:available_dates][:end_date]
params[:listing][:available_dates][:end_date]
params[:listing][:available_dates][:start_date]
exit
params[:listing][:available_dates][:end_date]
params[:listing][:available_dates][:start_date]
params[:listing][:available_dates]
params
params[:available_dates]
c
@reservation
n
c
@reservation.start_date
n
c
@reservation.start_date
n
params
c
@reservation.start_date
@reservation.start_time
params[:reservation][:start_date].strptime
params[:reservation][:start_date]
@reservation
params
n
params
c
@reservation.start_date
@reservation
n
c
@reservation
n
params[:reservation][:end_date]
params[:reservation][:start_date]
c
n
params[:reservation][:end_date]
params[:reservation]
params
c
params[:reservation][:listings_id]
params
c
params
c
@reservation
n
@reservation
@listing
params
c
params[:reservation][:start_date]
params[:reservation]
params
c
params
c
params
c
params
c
(@listing2.available_dates - @listing.available_dates).month
(@listing2.available_dates - @listing.available_dates).months
(@listing2.available_dates - @listing.available_dates).days
@listing.available_dates
@listing2.available_dates - @listing.available_dates
@listing2.available_dates
@listing2.availabe_dates
@listing2.save
@listing2= Listing.new(available_dates: "2016-07-31")
@listing
@Listing
n
params
c
n
c
cn
n
params[:user]
params
user_params
@user.avatars
